1.第一次执行时运行./bootstrap,以后不需要。
2.测试时执行./s3test_dnion。

以下是有关python的这个nose测试框架的一些常用命令：
在proxy/test/s3-tests/下执行：
1. 收集所有要执行的测试用例列表：
S3TEST_CONF=ds3.conf ./virtualenv/bin/nosetests -v --collect-only

2. 指定单跑某一个用例：
S3TEST_CONF=ds3.conf ./virtualenv/bin/nosetests s3tests.functional.test_headers:test_object_create_bad_authorization_empty


3. 跟踪本次测试消耗的时间，一般来说如果时间太长很可能是我们的proxy或者后端存储有问题导致等待和重视，否侧不会太慢：
S3TEST_CONF=ds3.conf ./virtualenv/bin/nosetests s3tests.functional.test_headers:test_object_create_bad_authorization_empty --with-profile 


4. 如果为了查看方便，可以将运行结果输出到html文件中：
安装nose-html-reporting插件：
./virtualenv/bin/pip install nose-html-reporting

然后执行：
S3TEST_CONF=ds3.conf ./virtualenv/bin/nosetests s3tests.functional.test_headers:test_object_create_bad_authorization_empty  --with-profile --with-html --html-report=results.html


5. 使用Attrib 标记，用于筛选用例，例如：
from nose.plugins.attrib import attr
@attr('dstor')
def test_big_download():

则我们可以指定只执行attr标记为dstor的用例：
nosetests -a dstor

目前attr标记为dstor的用例，我把敬龙之前挑选的223个用例去掉了40个用例（36个v4的用例和其他4个用例，这些用例实际上在执行中被skip了，没有执行，但是会占用统计），还剩183个用例

6. svn commit需要执行全部用例：
S3TEST_CONF=ds3.conf ./virtualenv/bin/nosetests -a dstor --with-profile --with-html --html-report=results.html

注意：
nosetests在收集测试用例时会忽略具有可执行权限的文件，所以需要将需要执行的用例文件去掉可执行权限
It is important to note that the default behavior of nose is to not include
tests from files which are executable. To include tests from such files, remove
their executable bit or use the –exe flag (see ‘Options’ section below).
